<!DOCTYPE html>
<html>
  <head>
    <title>Language Benchmarks</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.18/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/rowgroup/1.0.3/css/rowGroup.dataTables.min.css">

    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/rowgroup/1.0.3/js/dataTables.rowGroup.min.js"></script>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <table id="metrics" class="display" width="100%"></table>
    
    <div id="runtime-box-plot" style="width: 100%"></div>

    <div id="maxmem-box-plot" style="width: 100%"></div>

    <script type="text/javascript">
      function renderTable() {
        var dataSet = [["i-before-e","crystal0.25.0",0.06,44,14.2734375,1.0,3.355371900826446],["i-before-e","crystal0.27.2",0.09,65,14.65234375,1.5,3.4444444444444446],["i-before-e","csharp-dotnetcore2.1.301",0.22,98,32.45703125,3.666666666666667,7.629935720844812],["i-before-e","go1.10.3",0.2,85,6.56640625,3.3333333333333335,1.5436179981634528],["i-before-e","javascript-node10.15.1",0.28,72,50.75390625,4.666666666666667,11.931129476584022],["i-before-e","python3.6.5",0.37,89,10.3125,6.166666666666667,2.4242424242424243],["i-before-e","ruby2.5.1",0.19,92,21.30078125,3.166666666666667,5.007346189164371],["i-before-e","ruby2.6.1",0.21,91,26.2890625,3.5,6.179981634527089],["i-before-e","ruby2.6.1-jit",0.25,163,34.265625,4.166666666666667,8.055096418732782],["i-before-e","rust1.32.0",0.06,44,4.25390625,1.0,1.0]];

        $('#metrics').DataTable({
          paging: false,
          data: dataSet,
          columns: [{"title":"benchmark_name"},{"title":"language"},{"title":"process_real_time_secs"},{"title":"process_percent_cpu_time"},{"title":"process_max_rss_mb"},{"title":"normalized_process_real_time_secs"},{"title":"normalized_process_max_rss_mb"}],
          order: [[ 0, 'asc' ], [ 2, 'asc' ]],
          rowGroup: {
            dataSrc: 0
          }
        });
      }

      function renderOverallRuntimeBoxPlot() {
        var runtimeTraces = [{"x":[6.166666666666667],"name":"python3.6.5","type":"box","boxmean":false},{"x":[4.666666666666667],"name":"javascript-node10.15.1","type":"box","boxmean":false},{"x":[4.166666666666667],"name":"ruby2.6.1-jit","type":"box","boxmean":false},{"x":[3.666666666666667],"name":"csharp-dotnetcore2.1.301","type":"box","boxmean":false},{"x":[3.5],"name":"ruby2.6.1","type":"box","boxmean":false},{"x":[3.3333333333333335],"name":"go1.10.3","type":"box","boxmean":false},{"x":[3.166666666666667],"name":"ruby2.5.1","type":"box","boxmean":false},{"x":[1.5],"name":"crystal0.27.2","type":"box","boxmean":false},{"x":[1.0],"name":"rust1.32.0","type":"box","boxmean":false},{"x":[1.0],"name":"crystal0.25.0","type":"box","boxmean":false}];

        var runtimeLayout = {
          title: 'Overall Normalized Runtime',
          xaxis: {
            title: 'Runtime / Fastest Runtime (e.g. ruby2.5.1 base64 runtime / fastest base64 runtime)',
            zeroline: false
          },
          margin: {l: 160}
        };

        Plotly.newPlot('runtime-box-plot', runtimeTraces, runtimeLayout);
      }

      function renderOverallMaxMemBoxPlot() {
        var maxmemTraces = [{"x":[11.931129476584022],"name":"javascript-node10.15.1","type":"box","boxmean":false},{"x":[8.055096418732782],"name":"ruby2.6.1-jit","type":"box","boxmean":false},{"x":[7.629935720844812],"name":"csharp-dotnetcore2.1.301","type":"box","boxmean":false},{"x":[6.179981634527089],"name":"ruby2.6.1","type":"box","boxmean":false},{"x":[5.007346189164371],"name":"ruby2.5.1","type":"box","boxmean":false},{"x":[3.4444444444444446],"name":"crystal0.27.2","type":"box","boxmean":false},{"x":[3.355371900826446],"name":"crystal0.25.0","type":"box","boxmean":false},{"x":[2.4242424242424243],"name":"python3.6.5","type":"box","boxmean":false},{"x":[1.5436179981634528],"name":"go1.10.3","type":"box","boxmean":false},{"x":[1.0],"name":"rust1.32.0","type":"box","boxmean":false}];

        var maxmemLayout = {
          title: 'Overall Normalized Maximum Memory',
          xaxis: {
            title: 'MaxMem / Minimum MaxMem (e.g. ruby2.5.1 base64 maxmem / minimum base64 maxmem)',
            zeroline: false
          },
          margin: {l: 160}
        };

        Plotly.newPlot('maxmem-box-plot', maxmemTraces, maxmemLayout);
      }

      $(document).ready(function() {
        renderTable();
        renderOverallRuntimeBoxPlot();
        renderOverallMaxMemBoxPlot();
      });
    </script>
  </body>
</html>

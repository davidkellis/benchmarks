<!DOCTYPE html>
<html>
  <head>
    <title>Language Benchmarks</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.18/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/rowgroup/1.0.3/css/rowGroup.dataTables.min.css">

    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/rowgroup/1.0.3/js/dataTables.rowGroup.min.js"></script>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <table id="metrics" class="display" width="100%"></table>
    
    <div id="runtime-box-plot" style="width: 100%"></div>

    <div id="maxmem-box-plot" style="width: 100%"></div>

    <script type="text/javascript">
      function renderTable() {
        var dataSet = [["i-before-e","crystal0.25.0",0.09,52,14.17578125,1.7999999999999998,3.3385464581416744],["i-before-e","crystal0.27.2",0.13,76,14.58203125,2.6,3.434222631094756],["i-before-e","csharp-dotnetcore2.1.301",0.36,63,32.25,7.199999999999999,7.595216191352346],["i-before-e","go1.10.3",0.27,80,6.57421875,5.4,1.5482980680772769],["i-before-e","javascript-node10.15.1",0.4,47,49.93359375,8.0,11.759889604415823],["i-before-e","python3.6.5",0.37,76,10.3359375,7.3999999999999995,2.434222631094756],["i-before-e","ruby2.5.1",0.22,77,21.19140625,4.3999999999999995,4.990800367985281],["i-before-e","ruby2.6.1",0.21,85,26.0625,4.199999999999999,6.137994480220791],["i-before-e","ruby2.6.1-jit",0.26,159,34.38671875,5.2,8.098436062557498],["i-before-e","rust1.32.0",0.05,55,4.24609375,1.0,1.0]];

        $('#metrics').DataTable({
          paging: false,
          data: dataSet,
          columns: [{"title":"benchmark_name"},{"title":"language"},{"title":"process_real_time_secs"},{"title":"process_percent_cpu_time"},{"title":"process_max_rss_mb"},{"title":"normalized_process_real_time_secs"},{"title":"normalized_process_max_rss_mb"}],
          order: [[ 0, 'asc' ], [ 2, 'asc' ]],
          rowGroup: {
            dataSrc: 0
          }
        });
      }

      function renderOverallRuntimeBoxPlot() {
        var runtimeTraces = [{"x":[8.0],"name":"javascript-node10.15.1","type":"box","boxmean":false},{"x":[7.3999999999999995],"name":"python3.6.5","type":"box","boxmean":false},{"x":[7.199999999999999],"name":"csharp-dotnetcore2.1.301","type":"box","boxmean":false},{"x":[5.4],"name":"go1.10.3","type":"box","boxmean":false},{"x":[5.2],"name":"ruby2.6.1-jit","type":"box","boxmean":false},{"x":[4.3999999999999995],"name":"ruby2.5.1","type":"box","boxmean":false},{"x":[4.199999999999999],"name":"ruby2.6.1","type":"box","boxmean":false},{"x":[2.6],"name":"crystal0.27.2","type":"box","boxmean":false},{"x":[1.7999999999999998],"name":"crystal0.25.0","type":"box","boxmean":false},{"x":[1.0],"name":"rust1.32.0","type":"box","boxmean":false}];

        var runtimeLayout = {
          title: 'Overall Normalized Runtime',
          xaxis: {
            title: 'Runtime / Fastest Runtime (e.g. ruby2.5.1 base64 runtime / fastest base64 runtime)',
            zeroline: false
          },
          margin: {l: 160}
        };

        Plotly.newPlot('runtime-box-plot', runtimeTraces, runtimeLayout);
      }

      function renderOverallMaxMemBoxPlot() {
        var maxmemTraces = [{"x":[11.759889604415823],"name":"javascript-node10.15.1","type":"box","boxmean":false},{"x":[8.098436062557498],"name":"ruby2.6.1-jit","type":"box","boxmean":false},{"x":[7.595216191352346],"name":"csharp-dotnetcore2.1.301","type":"box","boxmean":false},{"x":[6.137994480220791],"name":"ruby2.6.1","type":"box","boxmean":false},{"x":[4.990800367985281],"name":"ruby2.5.1","type":"box","boxmean":false},{"x":[3.434222631094756],"name":"crystal0.27.2","type":"box","boxmean":false},{"x":[3.3385464581416744],"name":"crystal0.25.0","type":"box","boxmean":false},{"x":[2.434222631094756],"name":"python3.6.5","type":"box","boxmean":false},{"x":[1.5482980680772769],"name":"go1.10.3","type":"box","boxmean":false},{"x":[1.0],"name":"rust1.32.0","type":"box","boxmean":false}];

        var maxmemLayout = {
          title: 'Overall Normalized Maximum Memory',
          xaxis: {
            title: 'MaxMem / Minimum MaxMem (e.g. ruby2.5.1 base64 maxmem / minimum base64 maxmem)',
            zeroline: false
          },
          margin: {l: 160}
        };

        Plotly.newPlot('maxmem-box-plot', maxmemTraces, maxmemLayout);
      }

      $(document).ready(function() {
        renderTable();
        renderOverallRuntimeBoxPlot();
        renderOverallMaxMemBoxPlot();
      });
    </script>
  </body>
</html>

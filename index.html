<!DOCTYPE html>
<html>
  <head>
    <title>Language Benchmarks</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.18/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/rowgroup/1.0.3/css/rowGroup.dataTables.min.css">

    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/rowgroup/1.0.3/js/dataTables.rowGroup.min.js"></script>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <table id="metrics" class="display" width="100%"></table>
    
    <div id="runtime-box-plot" style="width: 100%"></div>

    <div id="maxmem-box-plot" style="width: 100%"></div>

    <script type="text/javascript">
      function renderTable() {
        var dataSet = [["i-before-e","crystal0.25.0",0.09,54,14.26953125,1.2857142857142856,3.360625574977001],["i-before-e","crystal0.27.2",0.09,84,14.5625,1.2857142857142856,3.4296228150873964],["i-before-e","csharp-dotnetcore2.1.301",0.31,67,32.3203125,4.428571428571428,7.611775528978841],["i-before-e","csharp-dotnetcore2.2",0.29,60,32.5859375,4.142857142857142,7.674333026678933],["i-before-e","go1.10.3",0.22,84,6.57421875,3.142857142857143,1.5482980680772769],["i-before-e","javascript-node10.15.1",0.39,50,50.84375,5.571428571428571,11.974241030358785],["i-before-e","python3.6.5",0.39,82,10.2109375,5.571428571428571,2.4047838086476543],["i-before-e","ruby2",0.21,93,26.38671875,2.9999999999999996,6.214351425942962],["i-before-e","ruby2.5.1",0.21,92,21.05859375,2.9999999999999996,4.959521619135234],["i-before-e","ruby2.6.1",0.21,90,26.28515625,2.9999999999999996,6.190432382704691],["i-before-e","ruby2.6.1-jit",0.24,155,34.3515625,3.428571428571428,8.09015639374425],["i-before-e","rust1.32.0",0.07,51,4.24609375,1.0,1.0]];

        $('#metrics').DataTable({
          paging: false,
          data: dataSet,
          columns: [{"title":"benchmark_name"},{"title":"language"},{"title":"process_real_time_secs"},{"title":"process_percent_cpu_time"},{"title":"process_max_rss_mb"},{"title":"normalized_process_real_time_secs"},{"title":"normalized_process_max_rss_mb"}],
          order: [[ 0, 'asc' ], [ 2, 'asc' ]],
          rowGroup: {
            dataSrc: 0
          }
        });
      }

      function renderOverallRuntimeBoxPlot() {
        var runtimeTraces = [{"x":[5.571428571428571],"name":"javascript-node10.15.1","type":"box","boxmean":false},{"x":[5.571428571428571],"name":"python3.6.5","type":"box","boxmean":false},{"x":[4.428571428571428],"name":"csharp-dotnetcore2.1.301","type":"box","boxmean":false},{"x":[4.142857142857142],"name":"csharp-dotnetcore2.2","type":"box","boxmean":false},{"x":[3.428571428571428],"name":"ruby2.6.1-jit","type":"box","boxmean":false},{"x":[3.142857142857143],"name":"go1.10.3","type":"box","boxmean":false},{"x":[2.9999999999999996],"name":"ruby2","type":"box","boxmean":false},{"x":[2.9999999999999996],"name":"ruby2.6.1","type":"box","boxmean":false},{"x":[2.9999999999999996],"name":"ruby2.5.1","type":"box","boxmean":false},{"x":[1.2857142857142856],"name":"crystal0.25.0","type":"box","boxmean":false},{"x":[1.2857142857142856],"name":"crystal0.27.2","type":"box","boxmean":false},{"x":[1.0],"name":"rust1.32.0","type":"box","boxmean":false}];

        var runtimeLayout = {
          title: 'Overall Normalized Runtime',
          xaxis: {
            title: 'Runtime / Fastest Runtime (e.g. ruby2.5.1 base64 runtime / fastest base64 runtime)',
            zeroline: false
          },
          margin: {l: 160}
        };

        Plotly.newPlot('runtime-box-plot', runtimeTraces, runtimeLayout);
      }

      function renderOverallMaxMemBoxPlot() {
        var maxmemTraces = [{"x":[11.974241030358785],"name":"javascript-node10.15.1","type":"box","boxmean":false},{"x":[8.09015639374425],"name":"ruby2.6.1-jit","type":"box","boxmean":false},{"x":[7.674333026678933],"name":"csharp-dotnetcore2.2","type":"box","boxmean":false},{"x":[7.611775528978841],"name":"csharp-dotnetcore2.1.301","type":"box","boxmean":false},{"x":[6.214351425942962],"name":"ruby2","type":"box","boxmean":false},{"x":[6.190432382704691],"name":"ruby2.6.1","type":"box","boxmean":false},{"x":[4.959521619135234],"name":"ruby2.5.1","type":"box","boxmean":false},{"x":[3.4296228150873964],"name":"crystal0.27.2","type":"box","boxmean":false},{"x":[3.360625574977001],"name":"crystal0.25.0","type":"box","boxmean":false},{"x":[2.4047838086476543],"name":"python3.6.5","type":"box","boxmean":false},{"x":[1.5482980680772769],"name":"go1.10.3","type":"box","boxmean":false},{"x":[1.0],"name":"rust1.32.0","type":"box","boxmean":false}];

        var maxmemLayout = {
          title: 'Overall Normalized Maximum Memory',
          xaxis: {
            title: 'MaxMem / Minimum MaxMem (e.g. ruby2.5.1 base64 maxmem / minimum base64 maxmem)',
            zeroline: false
          },
          margin: {l: 160}
        };

        Plotly.newPlot('maxmem-box-plot', maxmemTraces, maxmemLayout);
      }

      $(document).ready(function() {
        renderTable();
        renderOverallRuntimeBoxPlot();
        renderOverallMaxMemBoxPlot();
      });
    </script>
  </body>
</html>

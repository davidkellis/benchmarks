<!DOCTYPE html>
<html>
  <head>
    <title>Language Benchmarks</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.18/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/rowgroup/1.0.3/css/rowGroup.dataTables.min.css">

    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/rowgroup/1.0.3/js/dataTables.rowGroup.min.js"></script>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <table id="metrics" class="display" width="100%"></table>
    
    <div id="runtime-box-plot" style="width: 100%"></div>

    <div id="maxmem-box-plot" style="width: 100%"></div>

    <script type="text/javascript">
      function renderTable() {
        var dataSet = [["i-before-e","crystal0.25.0",0.07,64,14.8671875,1.0,1.4297520661157024],["i-before-e","csharp-dotnetcore2.1.301",0.33,63,32.375,4.714285714285714,3.113448534936138],["i-before-e","python3.6.5",0.38,77,10.3984375,5.428571428571428,1.0],["i-before-e","ruby2.5.1",0.22,80,21.1171875,3.142857142857143,2.0308039068369648]];

        $('#metrics').DataTable({
          paging: false,
          data: dataSet,
          columns: [{"title":"benchmark_name"},{"title":"language"},{"title":"process_real_time_secs"},{"title":"process_percent_cpu_time"},{"title":"process_max_rss_mb"},{"title":"normalized_process_real_time_secs"},{"title":"normalized_process_max_rss_mb"}],
          order: [[ 0, 'asc' ], [ 2, 'asc' ]],
          rowGroup: {
            dataSrc: 0
          }
        });
      }

      function renderOverallRuntimeBoxPlot() {
        var runtimeTraces = [{"x":[5.428571428571428],"name":"python3.6.5","type":"box","boxmean":false},{"x":[4.714285714285714],"name":"csharp-dotnetcore2.1.301","type":"box","boxmean":false},{"x":[3.142857142857143],"name":"ruby2.5.1","type":"box","boxmean":false},{"x":[1.0],"name":"crystal0.25.0","type":"box","boxmean":false}];

        var runtimeLayout = {
          title: 'Overall Normalized Runtime',
          xaxis: {
            title: 'Runtime / Fastest Runtime (e.g. ruby2.5.1 base64 runtime / fastest base64 runtime)',
            zeroline: false
          },
          margin: {l: 160}
        };

        Plotly.newPlot('runtime-box-plot', runtimeTraces, runtimeLayout);
      }

      function renderOverallMaxMemBoxPlot() {
        var maxmemTraces = [{"x":[3.113448534936138],"name":"csharp-dotnetcore2.1.301","type":"box","boxmean":false},{"x":[2.0308039068369648],"name":"ruby2.5.1","type":"box","boxmean":false},{"x":[1.4297520661157024],"name":"crystal0.25.0","type":"box","boxmean":false},{"x":[1.0],"name":"python3.6.5","type":"box","boxmean":false}];

        var maxmemLayout = {
          title: 'Overall Normalized Maximum Memory',
          xaxis: {
            title: 'MaxMem / Minimum MaxMem (e.g. ruby2.5.1 base64 maxmem / minimum base64 maxmem)',
            zeroline: false
          },
          margin: {l: 160}
        };

        Plotly.newPlot('maxmem-box-plot', maxmemTraces, maxmemLayout);
      }

      $(document).ready(function() {
        renderTable();
        renderOverallRuntimeBoxPlot();
        renderOverallMaxMemBoxPlot();
      });
    </script>
  </body>
</html>
